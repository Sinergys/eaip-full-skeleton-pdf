# ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è DeepSeek API

## üéâ –¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω —É—Å–ø–µ—à–Ω–æ!

**–î–∞—Ç–∞:** 2025-01-XX  
**API –∫–ª—é—á:** `sk-fa4d5adfd79d4307809a34b153fc0ab7`  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –ü—Ä—è–º–æ–π —Ç–µ—Å—Ç —á–µ—Ä–µ–∑ httpx
- **–°—Ç–∞—Ç—É—Å:** 200 OK
- **–ú–æ–¥–µ–ª—å:** deepseek-chat
- **–û—Ç–≤–µ—Ç:** "–î–∞." (—Ä–∞–±–æ—Ç–∞–µ—Ç)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤:** 17
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞:** < 2 —Å–µ–∫—É–Ω–¥—ã

### ‚ö†Ô∏è –¢–µ—Å—Ç —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É openai
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- **–û—à–∏–±–∫–∞:** `Client.__init__() got an unexpected keyword argument 'proxies'`
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ httpx –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API –∫–ª—é—á –≤ –ø—Ä–æ–µ–∫—Ç–µ

–î–æ–±–∞–≤—å—Ç–µ –≤ `infra/.env`:

```env
# AI Configuration
AI_PROVIDER=deepseek
AI_ENABLED=true
AI_PREFER_FOR_PDF=true
DEEPSEEK_API_KEY=sk-fa4d5adfd79d4307809a34b153fc0ab7
DEEPSEEK_MODEL=deepseek-chat
```

### 2. –û–±–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É openai

```bash
pip install --upgrade openai>=1.0.0
```

–ò–ª–∏ –≤ Dockerfile:
```dockerfile
RUN pip install --upgrade openai>=1.0.0
```

### 3. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Å–µ—Ä–≤–∏—Å

```bash
cd infra
docker compose build ingest
docker compose up -d ingest
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

```bash
docker compose logs ingest | grep -i "deepseek\|ai"
```

–û–∂–∏–¥–∞–µ–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
```
INFO: DeepSeek API –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –º–æ–¥–µ–ª—å: deepseek-chat
INFO: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ò–ò –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è PDF
```

## üìù –¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

–°–æ–∑–¥–∞–Ω—ã –¥–≤–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–∞:

1. **`test_deepseek_simple.py`** - –ø—Ä—è–º–æ–π —Ç–µ—Å—Ç —á–µ—Ä–µ–∑ httpx ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
2. **`test_deepseek_connection.py`** - —Ç–µ—Å—Ç —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É openai ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## ‚úÖ –í—ã–≤–æ–¥—ã

1. ‚úÖ **API –∫–ª—é—á –≤–∞–ª–∏–¥–Ω—ã–π** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. ‚úÖ **DeepSeek API –¥–æ—Å—Ç—É–ø–µ–Ω** - –æ—Ç–≤–µ—á–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. ‚úÖ **–ú–æ–¥–µ–ª—å deepseek-chat —Ä–∞–±–æ—Ç–∞–µ—Ç** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã
4. ‚ö†Ô∏è **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ openai** - –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –î–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á –≤ `.env` —Ñ–∞–π–ª
2. –û–±–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É openai –≤ Dockerfile
3. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ ingest —Å–µ—Ä–≤–∏—Å–∞
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö PDF —Ñ–∞–π–ª–∞—Ö
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `services/ingest/AI_SETUP.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- `AI_INTEGRATION_PLAN.md` - –ø–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- `test_deepseek_simple.py` - —Ä–∞–±–æ—á–∏–π —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç

