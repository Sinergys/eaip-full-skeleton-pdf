# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É ingest —Å–µ—Ä–≤–∏—Å–∞

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ PowerShell —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```powershell
cd C:\eaip\eaip_full_skeleton\services\ingest
.\start_service.ps1
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é

```powershell
cd C:\eaip\eaip_full_skeleton\services\ingest

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
.\.venv\Scripts\Activate.ps1

# –ò–ª–∏ —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–µ
python -m venv .venv
.\.venv\Scripts\Activate.ps1

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–∏—Å
$env:LOG_LEVEL="INFO"
uvicorn main:app --reload --port 8001
```

## üìä –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤**: http://localhost:8001/web/upload
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: http://localhost:8001/docs
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è**: http://localhost:8001/health

## üìù –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–º–ø–æ—Ä—Ç–∞

–í –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ PowerShell –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```powershell
cd C:\eaip\eaip_full_skeleton\services\ingest
.\monitor_import.ps1
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ `aggregated_data`.

## ‚úÖ –ß—Ç–æ –±—É–¥–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å—Å—è

–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:

1. **–ù–∞—á–∞–ª–æ –∏–º–ø–æ—Ä—Ç–∞:**
   ```
   üöÄ –ù–ê–ß–ê–õ–û –ò–ú–ü–û–†–¢–ê –í –ë–î –¥–ª—è batch_id=...
   üì¶ –ù–∞–π–¥–µ–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞: ['electricity', 'gas', ...]
   ```

2. **–ò–º–ø–æ—Ä—Ç –∫–∞–∂–¥–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞:**
   ```
   üì• –ò–º–ø–æ—Ä—Ç–∏—Ä—É—é —Ä–µ—Å—É—Ä—Å: electricity
      –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–∏–æ–¥–æ–≤: 4
   ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ 4 –∑–∞–ø–∏—Å–µ–π electricity –≤ –ë–î
      ‚Üí –ó–∞–ø–∏—Å—å: electricity / 2022-Q1 (ID: 123)
      ‚Üí –ó–∞–ø–∏—Å—å: electricity / 2022-Q2 (ID: 124)
      ...
   ```

3. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ:**
   ```
   ‚úÖ –ò–ú–ü–û–†–¢ –ó–ê–í–ï–†–®–ï–ù: –í—Å–µ–≥–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ 12 –∑–∞–ø–∏—Å–µ–π —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ –ë–î
   ```

## üìÑ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤

- ‚úÖ **Excel** (.xlsx, .xls, .xlsm) - –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ **PDF** (.pdf) - —Å OCR –¥–ª—è —Å–∫–∞–Ω–æ–≤
- ‚úÖ **Word** (.docx) - –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** (.jpg, .png) - —Å OCR

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```powershell
python tools/check_import_status.py
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç:
- –°–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –≤ –ë–î
- –ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- –°—Ç–∞—Ç—É—Å –∏–º–ø–æ—Ä—Ç–∞

