üöÄ –ü–†–û–ú–ü–¢ –î–õ–Ø –ù–û–í–û–ì–û –û–ö–ù–ê CURSOR - EAIP Full Skeleton v0.3.0

–ö–û–ù–¢–ï–ö–°–¢:
–ü—Ä–æ–µ–∫—Ç EAIP (Energy Audit Intelligence Platform) - –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —ç–Ω–µ—Ä–≥–æ–∞—É–¥–∏—Ç–∞.
GitHub: Sinergys/eaip-full-skeleton-pdf | Docker Hub: ecosinergys
–í–µ—Ä—Å–∏—è: v0.3.0 | –î–∞—Ç–∞: 2025-11-08 | –°—Ç–∞—Ç—É—Å: ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

–í–´–ü–û–õ–ù–ï–ù–û:

1. ‚úÖ GITHUB CI/CD –ò –†–ï–õ–ò–ó–´
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤ (docker.yml)
   - Release workflow: multi-arch, Trivy scanning, Cosign –ø–æ–¥–ø–∏—Å—å (release.yml)
   - Smoke tests –ø–æ—Å–ª–µ —Ä–µ–ª–∏–∑–∞ (smoke.yml)
   - –í—Å–µ 7 —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ Docker Hub: ecosinergys/eaip-full-skeleton-{service}:v0.3.0
   - –°–∫—Ä–∏–ø—Ç—ã: create_release.ps1, check_workflow_status.ps1

2. ‚úÖ OBSERVABILITY & MONITORING
   - Prometheus, Grafana, Loki, Alertmanager
   - –ê–ª–µ—Ä—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
   - –§–∞–π–ª—ã: infra/docker-compose.monitoring.yml, infra/prometheus.yml, infra/alerts.yml
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: infra/MONITORING.md

3. ‚úÖ INGEST SERVICE - –í–ê–õ–ò–î–ê–¶–ò–Ø, –ü–ê–†–°–ò–ù–ì, OCR
   - –í–∞–ª–∏–¥–∞—Ü–∏—è: XLSX, DOCX, PDF, JPG, PNG –¥–æ 50 –ú–ë (–¢–ó 4.1, 4.2)
   - –ü–∞—Ä—Å–∏–Ω–≥: PDF (PyPDF2+pdfplumber), Excel (openpyxl), Word (python-docx)
   - OCR: Tesseract (—Ä—É—Å—Å–∫–∏–π+–∞–Ω–≥–ª–∏–π—Å–∫–∏–π), –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–∫–∞–Ω–æ–≤
   - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: 4 —Å–µ–∫—Ü–∏–∏ (—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ–≤–µ—Ä–∫–∞, –æ—Ç–ø—Ä–∞–≤–∫–∞)
   - API: POST /web/upload, GET /ingest/parse/{batch_id}, POST /ingest/validate
   - –§–∞–π–ª—ã: services/ingest/main.py, services/ingest/file_parser.py

4. ‚úÖ PDF GENERATION –° –ü–û–î–î–ï–†–ñ–ö–û–ô CYRILLIC
   - DejaVuSans TTF font –≤–º–µ—Å—Ç–æ UnicodeCIDFont
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–∞–º–∏ –≤ PDF
   - –§–∞–π–ª: services/reports/main.py, services/reports/assets/fonts/DejaVuSans.ttf

5. ‚úÖ –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê –ò –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
   - –õ–æ–∫–∞–ª—å–Ω–∞—è: docker-compose.yml (PostgreSQL, Redis, MinIO)
   - Staging: docker-compose.staging.yml, deploy-staging.sh
   - Local Mini-Prod: docker-compose.local.yml, launch-local-mini-prod.sh
   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: infra/.env.example (—à–∞–±–ª–æ–Ω)

6. ‚úÖ –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø
   - SESSION_SUMMARY.md - –ø–æ–ª–Ω–æ–µ —Ä–µ–∑—é–º–µ —Å–µ—Å—Å–∏–∏
   - QUICK_CONTEXT.md - –±—ã—Å—Ç—Ä—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
   - GITHUB_TOKEN_SETUP.md, RELEASE_INSTRUCTIONS.md
   - infra/STAGING_DEPLOYMENT.md, infra/LOCAL_MINI_PROD.md

7. ‚úÖ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï PDF –ò OCR
   - –°–æ–∑–¥–∞–Ω test_pdf_ocr.py - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∏ OCR
   - –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å–µ—Ä–≤–∏—Å–∞ ingest (health check OK)
   - –£–≤–µ–ª–∏—á–µ–Ω —Ç–∞–π–º–∞—É—Ç –¥–æ 300 —Å–µ–∫ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: TEST_PDF_OCR.md, QUICK_TEST_PDF.md
   - –°—Ç–∞—Ç—É—Å: ‚úÖ OCR –ø—Ä–æ–≤–µ—Ä–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

8. ‚úÖ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –ò–ò (DEEPSEEK API)
   - –°–æ–∑–¥–∞–Ω ai_parser.py - –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ò–ò API
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ DeepSeek (OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π, –¥–µ—à–µ–≤–ª–µ –≤ 200+ —Ä–∞–∑)
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ OpenAI GPT-4 Vision –∏ Anthropic Claude
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ file_parser.py –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
   - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ PDF –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Vision API
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: API –∫–ª—é—á —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: AI_SETUP.md, AI_INTEGRATION_PLAN.md, DEEPSEEK_TEST_RESULT.md
   - –°—Ç–∞—Ç—É—Å: ‚úÖ –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞, API –∫–ª—é—á –ø—Ä–æ–≤–µ—Ä–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

9. ‚úÖ –ë–ê–ó–û–í–ê–Ø –°–¢–†–£–ö–¢–£–†–ê –ë–î
   - –°–æ–∑–¥–∞–Ω init.sql - SQL —Å–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
   - –¢–∞–±–ª–∏—Ü—ã –¥–ª—è –≤—Å–µ—Ö 7 —Å–µ—Ä–≤–∏—Å–æ–≤ (ingest, validate, analytics, gateway-auth, reports, management, recommend)
   - –ò–Ω–¥–µ–∫—Å—ã –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã docker-compose —Ñ–∞–π–ª—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: infra/db/DATABASE_SCHEMA.md, infra/db/README.md
   - –°—Ç–∞—Ç—É—Å: ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î —Å–æ–∑–¥–∞–Ω–∞, –≥–æ—Ç–æ–≤–∞ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ —Å–µ—Ä–≤–∏—Å—ã

–¢–ï–•–ù–û–õ–û–ì–ò–ò:
- Backend: Python 3.11, FastAPI, Docker
- Ingest: pytesseract, pdf2image, openpyxl, pdfplumber, python-docx, Tesseract OCR
- CI/CD: GitHub Actions, Docker Hub, Trivy, Syft, Cosign
- Monitoring: Prometheus, Grafana, Loki, Alertmanager

–ó–ê–ü–£–°–ö:
–õ–æ–∫–∞–ª—å–Ω–æ: cd infra && docker compose up -d
Mini-Prod: cd infra && bash launch-local-mini-prod.sh
Staging: cd /opt/eaip && bash deploy-staging.sh
–í–µ–± ingest: http://localhost:8001/web/upload

–°–ï–†–í–ò–°–´ (–ø–æ—Ä—Ç—ã):
gateway-auth(8000), ingest(8001), validate(8002), analytics(8003), 
recommend(8004), reports(8005), management(8006)

–°–¢–ê–¢–£–°: ‚úÖ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–ü–†–û–ë–õ–ï–ú–´: 
- –°–µ–∫—Ü–∏–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –º–æ–≥—É—Ç –Ω–µ –ø–æ—è–≤–ª—è—Ç—å—Å—è - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤ –ø–∞–º—è—Ç–∏ - –Ω—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Redis/PostgreSQL

–í–ê–ñ–ù–´–ï –§–ê–ô–õ–´:
- SESSION_SUMMARY.md - –ø–æ–ª–Ω–æ–µ —Ä–µ–∑—é–º–µ
- services/ingest/main.py - ingest service
- services/ingest/ai_parser.py - –ò–ò –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
- infra/db/init.sql - SQL —Å–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î ‚úÖ
- test_pdf_ocr.py - —Ç–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ PDF –∏ OCR
- test_deepseek_simple.py - —Ç–µ—Å—Ç DeepSeek API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è ‚úÖ
- .github/workflows/ - CI/CD workflows
- infra/docker-compose*.yml - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏–π

–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:
python test_pdf_ocr.py "–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É.pdf"
python test_deepseek_simple.py  # –ü—Ä–æ–≤–µ—Ä–∫–∞ DeepSeek API
–í–µ–±: http://localhost:8001/web/upload

–ò–ò –ù–ê–°–¢–†–û–ô–ö–ê (–ü–†–û–í–ï–†–ï–ù–û ‚úÖ):
AI_PROVIDER=deepseek
AI_ENABLED=true
AI_PREFER_FOR_PDF=true
DEEPSEEK_API_KEY=sk-fa4d5adfd79d4307809a34b153fc0ab7  # –†–∞–±–æ—Ç–∞–µ—Ç!
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: services/ingest/AI_SETUP.md, DEEPSEEK_TEST_RESULT.md

