# üêõ –ü—Ä–æ–±–ª–µ–º–∞: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

## –ö–æ–Ω—Ç–µ–∫—Å—Ç

**–ü—Ä–æ–µ–∫—Ç:** EAIP Full Skeleton v0.3.0  
**–°–∏—Å—Ç–µ–º–∞:** –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ FastAPI  
**–°–µ—Ä–≤–∏—Å –∑–∞–≥—Ä—É–∑–∫–∏:** `ingest` –Ω–∞ –ø–æ—Ä—Ç—É 8001  
**Endpoint API:** `POST /ingest/files` (multipart/form-data)

## –ü—Ä–æ–±–ª–µ–º–∞

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ `http://localhost:8080/` –∏–ª–∏ `http://localhost:8080/index.html`.

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

1. ‚úÖ **API —Ä–∞–±–æ—Ç–∞–µ—Ç:** `http://localhost:8001/ingest/files` –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç
2. ‚úÖ **HTTP —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω:** Python HTTP —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 8080 —Ä–∞–±–æ—Ç–∞–µ—Ç
3. ‚úÖ **–§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:** `client/index.html`, `client/server.py` —Å—É—â–µ—Å—Ç–≤—É—é—Ç
4. ‚ùå **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:** –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ –æ—à–∏–±–∫—É

### Swagger UI –ø—Ä–æ–±–ª–µ–º–∞:

–í Swagger UI (`http://localhost:8001/docs`) –¥–ª—è endpoint `POST /ingest/files`:
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–∞–∫ "No parameters"
- Request body –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `multipart/form-data` —Å –ø–æ–ª–µ–º `file * string($binary)`
- **–ù–û:** –ö–Ω–æ–ø–∫–∞ "Choose File" –∏–ª–∏ –ø–æ–ª–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ **–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è**

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
eaip_full_skeleton/
‚îú‚îÄ‚îÄ client/
‚îÇ   ‚îú‚îÄ‚îÄ index.html          # –ì–ª–∞–≤–Ω—ã–π HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ server.py           # Python HTTP —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ upload.html         # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îî‚îÄ‚îÄ simple-upload.html  # –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ ingest/
‚îÇ       ‚îî‚îÄ‚îÄ main.py         # FastAPI —Å–µ—Ä–≤–∏—Å —Å endpoint /ingest/files
‚îî‚îÄ‚îÄ infra/
    ‚îî‚îÄ‚îÄ docker-compose.local.yml  # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

### API Endpoint:
```python
@app.post("/ingest/files")
async def ingest_files(file: UploadFile = File(...)):
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞
    return {"batchId": batch_id, "filename": safe_filename, "validate": validate_resp}
```

### Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
- **–ò–º—è:** `eaip-ingest-local`
- **–ü–æ—Ä—Ç:** `8001:8001`
- **–°—Ç–∞—Ç—É—Å:** `Up` (–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `unhealthy` –≤ healthcheck)
- **–û–±—Ä–∞–∑:** `ecosinergys/eaip-full-skeleton-ingest:v0.3.0`

### HTTP —Å–µ—Ä–≤–µ—Ä:
- **–ü–æ—Ä—Ç:** 8080
- **–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞:** `python server.py`
- **–†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:** `eaip_full_skeleton/client/`

## –ß—Ç–æ –±—ã–ª–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞–Ω–æ

1. ‚úÖ –°–æ–∑–¥–∞–Ω HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å drag & drop
2. ‚úÖ –ó–∞–ø—É—â–µ–Ω Python HTTP —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 8080
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω CORS middleware –≤ FastAPI (–Ω–æ –æ–±—Ä–∞–∑ –Ω–µ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω)
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API —á–µ—Ä–µ–∑ curl/PowerShell
5. ‚ùå Swagger UI –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞
6. ‚ùå HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–µ—à–µ–Ω–∏—é

### 1. –†–∞–±–æ—á–∏–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ URL `http://localhost:8080/`
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º—É –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ó–∞–≥—Ä—É–∑–∏—Ç—å" –∞–∫—Ç–∏–≤–Ω–∞ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞
- ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ `multipart/form-data` –Ω–∞ `http://localhost:8001/ingest/files`
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–≥—Ä—É–∑–∫–∏ (Batch ID, —Å—Ç–∞—Ç—É—Å –≤–∞–ª–∏–¥–∞—Ü–∏–∏)

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Swagger UI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- ‚úÖ –í Swagger UI –¥–ª—è `POST /ingest/files` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "Choose File"
- ‚úÖ –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–µ–∑ Swagger UI

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã

1. **CORS –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞:** –ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å `file://` –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Content-Type:** FastAPI –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç multipart/form-data –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. **–ü—Ä–æ–±–ª–µ–º–∞ —Å Swagger UI:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è OpenAPI —Å—Ö–µ–º—ã –¥–ª—è —Ñ–∞–π–ª–æ–≤
4. **HTTP —Å–µ—Ä–≤–µ—Ä –Ω–µ –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç —Ñ–∞–π–ª—ã:** Python —Å–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–¥–∞–µ—Ç HTML –ø—Ä–∞–≤–∏–ª—å–Ω–æ
5. **–ü—Ä–æ–±–ª–µ–º–∞ —Å Docker –æ–±—Ä–∞–∑–æ–º:** –û–±—Ä–∞–∑ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å CORS

## –û–∂–∏–¥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ HTTP —Å–µ—Ä–≤–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–¥–∞–µ—Ç —Ñ–∞–π–ª—ã
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ JavaScript –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ CORS

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å Swagger UI
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å OpenAPI —Å—Ö–µ–º—É –¥–ª—è endpoint —Å —Ñ–∞–π–ª–∞–º–∏
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ FastAPI –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ö–µ–º—É –¥–ª—è `UploadFile`
- –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å `content` –≤ OpenAPI —Å—Ö–µ–º–µ

### –í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Ä–∞–±–æ—á–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π HTML —Å —Ñ–æ—Ä–º–æ–π `<form enctype="multipart/form-data">`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º—ã –±–µ–∑ JavaScript
- –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ CORS –ø—Ä–æ–±–ª–µ–º

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
Invoke-RestMethod -Uri "http://localhost:8001/health"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTP —Å–µ—Ä–≤–µ—Ä–∞
Invoke-WebRequest -Uri "http://localhost:8080/"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps | Select-String ingest

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker logs eaip-ingest-local --tail 20
```

## –§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

1. `client/index.html` - –≥–ª–∞–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. `client/server.py` - HTTP —Å–µ—Ä–≤–µ—Ä
3. `services/ingest/main.py` - API endpoint
4. `infra/docker-compose.local.yml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker

## –û–∫—Ä—É–∂–µ–Ω–∏–µ

- **–û–°:** Windows 10
- **Python:** 3.x
- **Docker:** 28.5.1
- **–ë—Ä–∞—É–∑–µ—Ä:** –õ—é–±–æ–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π (Chrome, Edge, Firefox)
- **–ü–æ—Ä—Ç—ã:** 8001 (API), 8080 (HTTP —Å–µ—Ä–≤–µ—Ä)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-08  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–°—Ç–∞—Ç—É—Å:** –û—Ç–∫—Ä—ã—Ç

