# üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–µ—Ä–≤–µ—Ä–∞ EAIP

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2025-11-13  
**–ü—Ä–æ–µ–∫—Ç:** EAIP (Energy Audit Integration Platform)

---

## üñ•Ô∏è –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### CPU (–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä)
- **–ú–∏–Ω–∏–º—É–º:** 4 —è–¥—Ä–∞ (8 vCPU)
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** 8 —è–¥–µ—Ä (16 vCPU) –¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** x86_64 (amd64) –∏–ª–∏ ARM64
- **–¢–∞–∫—Ç–æ–≤–∞—è —á–∞—Å—Ç–æ—Ç–∞:** 2.4 GHz+

### RAM (–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å)
- **–ú–∏–Ω–∏–º—É–º:** 16 GB
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** 32 GB –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- **–î–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏:** 64 GB

**–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏:**
- PostgreSQL: 4-8 GB
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è (7 —Å–µ—Ä–≤–∏—Å–æ–≤): 6-10 GB
- Redis: 512 MB
- MinIO: 1-2 GB
- –°–∏—Å—Ç–µ–º–∞ + —Ä–µ–∑–µ—Ä–≤: 4-8 GB

### –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
- **–ú–∏–Ω–∏–º—É–º:** 100 GB SSD
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** 500 GB SSD –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∏ –ª–æ–≥–æ–≤
- **–¢–∏–ø:** SSD (NVMe –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ) –¥–ª—è –ë–î –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **–°–∫–æ—Ä–æ—Å—Ç—å:** –ú–∏–Ω–∏–º—É–º 500 MB/s —á—Ç–µ–Ω–∏–µ, 300 MB/s –∑–∞–ø–∏—Å—å

**–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∏—Å–∫–∞:**
- PostgreSQL –¥–∞–Ω–Ω—ã–µ: 50-200 GB (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–±—ä–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö)
- –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã: 100-500 GB
- –õ–æ–≥–∏: 10-50 GB (—Ä–æ—Ç–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞)
- –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏: 100-500 GB
- –°–∏—Å—Ç–µ–º–∞ –∏ Docker: 50 GB

### –°–µ—Ç—å
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:** –ú–∏–Ω–∏–º—É–º 100 Mbps, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 1 Gbps
- **–õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:** < 50 ms –¥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞

---

## üêß –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –û–°:
1. **Ubuntu Server 22.04 LTS** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
2. **Ubuntu Server 20.04 LTS**
3. **Debian 11/12**
4. **CentOS Stream 9** (–∏–ª–∏ Rocky Linux 9)
5. **RHEL 9** (—Å –ø–æ–¥–ø–∏—Å–∫–æ–π)

### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã:
```bash
# –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
sudo apt update && sudo apt upgrade -y
```

---

## üîß –ù–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –ü–û

### Docker & Docker Compose
- **Docker:** –≤–µ—Ä—Å–∏—è 24.0+ (–∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è)
- **Docker Compose:** –≤–µ—Ä—Å–∏—è 2.20+ (–∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è)

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
```

### Nginx (Reverse Proxy)
- **–í–µ—Ä—Å–∏—è:** 1.24+ (–∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è)

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
sudo apt install nginx -y
```

### SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- **Let's Encrypt (Certbot)** ‚Äî –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- **–ò–ª–∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π SSL** ‚Äî –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot:**
```bash
sudo apt install certbot python3-certbot-nginx -y
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
```bash
# –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
sudo apt install -y curl wget git htop iotop net-tools ufw

# –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
sudo apt install -y postgresql-client
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
1. **Prometheus** ‚Äî —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ (–≤—Å—Ç—Ä–æ–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é)
2. **Grafana** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (–≤—Å—Ç—Ä–æ–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é)
3. **Loki** ‚Äî –∞–≥—Ä–µ–≥–∞—Ü–∏—è –ª–æ–≥–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. **Alertmanager** ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É:
- **Prometheus:** +500 MB RAM, 5 GB –¥–∏—Å–∫–∞
- **Grafana:** +200 MB RAM, 1 GB –¥–∏—Å–∫–∞
- **Loki:** +1 GB RAM, 10 GB –¥–∏—Å–∫–∞ (–ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏)

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –§–∞–µ—Ä–≤–æ–ª (UFW)
```bash
# –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞
sudo ufw default deny incoming
sudo ufw default allow outgoing
sudo ufw allow 22/tcp    # SSH
sudo ufw allow 80/tcp    # HTTP
sudo ufw allow 443/tcp   # HTTPS
sudo ufw enable
```

### SSH –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- –û—Ç–∫–ª—é—á–∏—Ç—å –≤—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á–∏)
- –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç SSH (22)
- –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –ø–æ IP (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)

### –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** –í–∫–ª—é—á–∏—Ç—å
- **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π:** CVE –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

---

## üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### PostgreSQL —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **–í–µ—Ä—Å–∏—è:** 16.x (–∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è)
- **–ü–∞–º—è—Ç—å:** 4-8 GB –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏
- **–î–∏—Å–∫:** SSD –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è:** –ú–∏–Ω–∏–º—É–º 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:
- **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±—ç–∫–∞–ø—ã:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- **–•—Ä–∞–Ω–µ–Ω–∏–µ:** –ú–∏–Ω–∏–º—É–º 30 –¥–Ω–µ–π
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:** Cron –∏–ª–∏ pgBackRest
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:** –ï–∂–µ–º–µ—Å—è—á–Ω–æ

---

## üåê –°–µ—Ç—å –∏ –¥–æ–º–µ–Ω

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **–î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è:** –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞
- **DNS –∑–∞–ø–∏—Å–∏:**
  - `A` –∑–∞–ø–∏—Å—å –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞
  - `A` –∑–∞–ø–∏—Å—å –¥–ª—è `www` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - `CNAME` –¥–ª—è –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ:
- **Nginx** –∫–∞–∫ reverse proxy
- **SSL/TLS:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (HTTPS)
- **HTTP ‚Üí HTTPS —Ä–µ–¥–∏—Ä–µ–∫—Ç:** –í–∫–ª—é—á–µ–Ω

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏:
```
/opt/eaip/
‚îú‚îÄ‚îÄ infra/              # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ postgres/      # PostgreSQL –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ minio/         # MinIO –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ inbox/         # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ aggregated/    # –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ backups/       # –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ logs/          # –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
‚îî‚îÄ‚îÄ ssl/               # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
```

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
```bash
sudo chown -R $USER:$USER /opt/eaip
sudo chmod -R 755 /opt/eaip
```

---

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

#### PostgreSQL:
```conf
shared_buffers = 2GB
effective_cache_size = 6GB
maintenance_work_mem = 512MB
checkpoint_completion_target = 0.9
wal_buffers = 16MB
default_statistics_target = 100
random_page_cost = 1.1
effective_io_concurrency = 200
```

#### Docker:
```json
{
  "log-driver": "json-file",
  "log-opts": {
    "max-size": "10m",
    "max-file": "3"
  },
  "storage-driver": "overlay2"
}
```

#### Nginx:
- **Worker processes:** –ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É CPU —è–¥–µ—Ä
- **Worker connections:** 1024+
- **Gzip:** –í–∫–ª—é—á–µ–Ω
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í–∫–ª—é—á–µ–Ω–æ –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏

---

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:
- **Ingest service:** 2-3 —Ä–µ–ø–ª–∏–∫–∏ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
- **Reports service:** 2-3 —Ä–µ–ø–ª–∏–∫–∏ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–æ–≤
- **Load balancer:** Nginx upstream —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∏–Ω—Å—Ç–∞–Ω—Å–∞–º–∏

### –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ RAM –¥–æ 64 GB
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ CPU —è–¥–µ—Ä –¥–æ 16
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SSD NVMe –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

---

## üîÑ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß—Ç–æ –±—ç–∫–∞–ø–∏—Ç—å:
1. **PostgreSQL:** –ü–æ–ª–Ω—ã–µ –¥–∞–º–ø—ã –ë–î
2. **–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:** `/opt/eaip/data/inbox/`
3. **–ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:** `/opt/eaip/data/aggregated/`
4. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:** `/opt/eaip/infra/`
5. **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:** `/opt/eaip/ssl/`

### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤:
- **–ë–î:** –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 02:00
- **–§–∞–π–ª—ã:** –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 03:00
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:** –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
- **–ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø:** –ï–∂–µ–º–µ—Å—è—á–Ω–æ

### –•—Ä–∞–Ω–µ–Ω–∏–µ:
- **–õ–æ–∫–∞–ª—å–Ω–æ:** 7 –¥–Ω–µ–π
- **–í–Ω–µ—à–Ω–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:** 30 –¥–Ω–µ–π
- **–ê—Ä—Ö–∏–≤:** 1 –≥–æ–¥ (–µ–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ)

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- **CPU –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** < 70% –≤ —Å—Ä–µ–¥–Ω–µ–º
- **RAM –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** < 80% –≤ —Å—Ä–µ–¥–Ω–µ–º
- **–î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ:** > 20% —Å–≤–æ–±–æ–¥–Ω–æ
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API:** < 200ms (p95)
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–æ–≤:** > 99.5%

### –ê–ª–µ—Ä—Ç—ã:
- CPU > 80% –±–æ–ª–µ–µ 5 –º–∏–Ω—É—Ç
- RAM > 90%
- –î–∏—Å–∫ < 10% —Å–≤–æ–±–æ–¥–Ω–æ
- –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω > 1 –º–∏–Ω—É—Ç—ã
- –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö > 10 –≤ –º–∏–Ω—É—Ç—É

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

### –ß–µ–∫–ª–∏—Å—Ç:
- [ ] –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Health checks –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤–∞–ª–∏–¥–Ω—ã
- [ ] –ë—ç–∫–∞–ø—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏
- [ ] –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- [ ] –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

---

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –î–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ (1000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π):
- **CPU:** 16 —è–¥–µ—Ä
- **RAM:** 64 GB
- **–î–∏—Å–∫:** 1 TB SSD NVMe
- **CDN:** –î–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- **Load Balancer:** –ü–µ—Ä–µ–¥ Nginx (HAProxy/Nginx)

### –î–ª—è –º–∞–ª–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ (< 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π):
- **CPU:** 4 —è–¥—Ä–∞
- **RAM:** 16 GB
- **–î–∏—Å–∫:** 200 GB SSD

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã:
```bash
# CPU –∏ –ø–∞–º—è—Ç—å
htop

# –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
df -h

# –°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
netstat -tulpn

# Docker —Å—Ç–∞—Ç—É—Å
docker ps
docker stats

# –õ–æ–≥–∏
docker-compose -f docker-compose.prod.yml logs -f [service]
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
curl http://localhost:8000/health  # gateway-auth
curl http://localhost:8001/health  # ingest
curl http://localhost:8002/health  # validate
# ... –∏ —Ç.–¥.
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**–í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs [service]`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: Grafana dashboard
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã: `docker stats`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç—å: `curl` –Ω–∞ health endpoints

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-13

